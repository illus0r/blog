---
published: false
title: Генеративный шрифт
permalink: generative-font
---


https://editor.p5js.org/illus0r/sketches/vL5iu0XvR

Переехал с Эгеи обратно на Джекилл. Чтобы не заморачиваться с обновлением и пилить свои фишки. 
Первой фишкой решил сделать генеративный шрифт. То есть скрипт, который будет рисовать и анимировать заголовки.
Требования к нему такие:

- Брать на вход текст и делать из него картинку
- При скролле менять параметры шрифта, чтобы было весело.

В будущем клёво допилить:

- Позволять выделить и скопировать текст заголовка. Если я выключу стили, должен показать просто текст.
- Втискивать шрифты в указанную ширину и делать это художественно.
- Адаптивиться при изменении ширины экрана
- Рисовать в SVG

Первую версию решил сделать всё-таки на канвасе с помощью p5js, потому что это быстрее и веселее, чем SVG на d3js. 
Можно было бы, конечно, подумать про вариативные шрифты, но, боюсь, будет тормозить. 
Мы делали раньше с ними один проект, они тормозили жёстко.

Чтобы буквы анимировались при скролле, можно:

- менять одну или несколько переменных.
- Несколько атрибутов менять в зависимости от одного входного.

Например, буква А. Её можно нарисовать из куска синусоиды и овала с дыркой. Менять можно:
- амплитуду и частоту синусоиды
- диаметр кружка буквы а
- отношение диаметра дырки к диаметру кружка.

Ограничения:
- Кружок должен касаться синусоиды краем, не отваливаться слишком сильно.
- Кружок должен стоять на той же базовой линии, что и синусоида.

Сперва думал разраотать свой алгоритм переноса слов на новую строку. Но потом придумал финт: делать разные слова разными ХТМЛ элементами, тогда они будут переноситься на новые строки автоматически. Идеально! Не надо продумывать изменение экрана устройства, адаптацию к мобильным и всякое такое прочее.


Делаю первые буквы. Начинает хотеться переиграть и попробовать реализовать идею https://inconvergent.net/2017/spline-script/, но решаю добить алфавит. А версию с кривыми сделаю в другой раз. Это можно использовать как курсив, например :–)

Моноширинность. Лучше так, чтобы не получилось, что так проще считать размер слов.
